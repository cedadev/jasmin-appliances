name: "Pangeo"
label: "Pangeo"
description: "The Pangeo software stack running on Kubernetes."
logo: "https://github.com/pangeo-data/branding/blob/master/logo/pangeo_simple_logo.png"

parameters:
  - name: "cluster_version"
    label: "Kubernetes version"
    description: "The Kubernetes version to use."
    kind: "choice"
    options:
      choices: ["1.12", "1.13"]

  - name: "cluster_num_workers"
    label: "Worker nodes"
    description: "The number of worker nodes in the cluster."
    kind: "integer"
    options:
      min: 3

  - name: "cluster_master_flavor"
    label: "Master size"
    description: "The size to use for the master node."
    kind: "cloud.size"
    options:
      min_cpus: 2
      min_ram: 2048
    immutable: true

  - name: "cluster_worker_flavor"
    label: "Worker size"
    description: "The size to use for the worker nodes."
    kind: "cloud.size"
    options:
      min_cpus: 4
      min_ram: 8192
    immutable: true

  - name: "cluster_root_volume_size"
    label: "Root volume size (GB)"
    description: "The size of the root volume of cluster nodes."
    kind: "integer"
    options:
      min: 10
    immutable: true
    default: 40

  - name: "cluster_fixed_ip"
    label: "External IP"
    description: |
      The external IP to attach to the master node.

      On successful deployment, the Pangeo interface will be available at this IP.
    kind: "cloud.ip"
    immutable: true

  - name: "pangeo_username"
    label: "Admin username"
    description: "Username of the Pangeo cluster adminstrator."
    kind: "string"
    default: "admin"

  - name: "pangeo_password"
    label: "Admin password"
    description: "Password for the Pangeo cluster."
    kind: "string"
    options:
      secret: true
